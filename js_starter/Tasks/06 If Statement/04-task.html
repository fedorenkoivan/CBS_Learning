<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 1</title>
</head>
<body>
    <pre>
        Завдання:
        Допрацюйте сценарій. Якщо користувач замовляє товарів більше, ніж на складі, то сповістіть його. Якщо користувач замовляє
        кількість товарів, не більше ніж на складі - порахуйте загальну вартість замовлення.
    </pre>
    <script>
        let totalSum;
        let leftInStorage;
        let productPrice = 101.5; // ціна товару
        let productQuantity = 50;  // Кількість одиниць товару на складі

        let count = +prompt("Асортимент нашого сайту нараховує 50 товарів. Бажаєте замовити щось?", 1);
        //Сценарій#1, користувач неуважний і просить товарів більше, ніж має склад або вводить текст. 
        //Повідомляємо йому і даємо другий шанс у вигляді "Так/Скасувати"
        if(count>productQuantity || isNaN(count)){
            let second = confirm("Дані введено некоректно. Друга спроба?")
            //Сценарій#2, якщо користувач розумний, він замовляє товар і я отримую гроші
            if(second){
                let secondChance = +prompt("Скільки одиниць товару ви бажаєте придбати?", 1);
            //Якщо користувач вирішив з нами погратися і вводить не числа або завищену к-сть
            //товарів, то ми даємо йому цінний урок поваги до магазину і проганяємо
                if(secondChance>productQuantity || isNaN(secondChance)){
                alert("Хлопче, це серйозний магазин. Ти двічі ударив в штангу, це вже не вибачається. Покинеш сайт сам чи може потребуватимеш допомоги?")
                totalSum = 0;
                leftInStorage = 50;
            } 
            //Якщо користувач чемний, рахуємо загальну ціну
            else {
                totalSum = secondChance * productPrice;
                leftInStorage = productQuantity - secondChance;
            }
        } 
            //Сценарій#3, користувач злий і не бажає розкривати гаманець. Прощаємося
            else{
                alert("Схоже, ви розсерджені. Але нам приємно мати покупців, навіть таких бридливих, як ви. Гарного дня!")
                totalSum = 0;
                leftInStorage = 50;
            }
            //Сценарій#4, найсприятливіший. Покупець уважний, чемний. 
            //Ми віддячимо йому тим самим 
        } else{
            totalSum = count * productPrice;
            leftInStorage = productQuantity - count;
        }
        
        alert("Загальна вартість " + totalSum);
        alert("Кількість товару на складі після покупки: " + leftInStorage);
    </script>
</body>
</html>